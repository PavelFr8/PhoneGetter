{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="profile-header">
        <h1 class="text-center mt-5 mb-4">Profile Settings</h1>
    </div>
    <div class="d-flex flex-column flex-lg-row justify-content-between">
        <div class="profile-info p-4 border rounded shadow-sm bg-light mb-4 mb-lg-0" style="flex: 1; margin: 1rem;">
            <div class="mb-4">
                <h2>Name:</h2>
                <p class="fs-4">{{ current_user.name }}</p>
            </div>
            <div class="mb-4">
                <h2>Surname:</h2>
                <p class="fs-4">{{ current_user.surname }}</p>
            </div>
            <div class="mb-4">
                <h2>Date of Birth:</h2>
                <p class="fs-4">{{ current_user.date_of_birth }}</p>
            </div>
            <div class="mb-4">
                <h2>Email:</h2>
                <p class="fs-4">{{ current_user.email }}</p>
            </div>
            <div class="text-center">
                <a href="{{ url_for('settings.change_password', id=current_user.id) }}" class="btn btn-danger" style="background-color:#c26381; color: white;">Change password</a>
                <a href="{{ url_for('register.logout') }}" style="background-color:white; color: black;" class="btn btn-secondary">Log out</a>
            </div>
        </div>

        <div class="profile-info p-4 border rounded shadow-sm bg-light" style="flex: 1; margin: 1rem;">
            <h2 class="text-center">Today's phone history</h2>
            {% for event in events %}
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="time-record">
                            <span class="date">{{ event[1].split(' ')[0] }}</span>
                            <span class="time">{{ event[1].split(' ')[1] }}</span>
                        </div>
                        <h5 style="color:#5c5555">{{ 'Return phone!' if event[0] else 'Put phone in device!' }}</h5>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}